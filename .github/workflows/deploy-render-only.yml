name: Deploy to Render.com ONLY - Block Railway

on:
  push:
    branches: [ main ]
  pull_request:
    branches: [ main ]

jobs:
  block-railway:
    runs-on: ubuntu-latest
    steps:
    - name: Block Railway Deployments
      run: |
        echo "üö® RAILWAY DEPLOYMENTS BLOCKED üö®"
        echo "This repository ONLY deploys to Render.com"
        echo "Railway connection should be removed from GitHub repository settings"
        echo "All deployments must go through Render.com webhook"
        
    - name: Trigger Render Deployment
      run: |
        echo "‚úÖ Triggering Render.com deployment"
        echo "Repository: nljolie/credli-ai"
        echo "Target: https://credli-ai.onrender.com"
        echo "Webhook should trigger automatic deployment to Render"

  verify-render-only:
    runs-on: ubuntu-latest  
    needs: block-railway
    steps:
    - name: Verify Render Configuration
      run: |
        echo "üîç DEPLOYMENT VERIFICATION:"
        echo "‚úÖ Railway blocked"
        echo "‚úÖ Render.com should receive webhook"
        echo "‚úÖ Auto-deployment to https://credli-ai.onrender.com"
        echo "‚ùå NO Railway deployments allowed"